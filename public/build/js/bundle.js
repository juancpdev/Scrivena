function confirmDelete(e,t){e.preventDefault(),Swal.fire({title:"Confirmación",text:"¿Estás seguro de que deseas eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&document.getElementById(t).submit()})}function menu(){const e=document.querySelector(".abrir_menu"),t=document.querySelector(".caja_nav");if(e){e.addEventListener("click",(function(){t.classList.contains("activo")?(t.classList.remove("activo"),e.classList.remove("activo")):(t.classList.add("activo"),e.classList.add("activo"))}))}}function carrouselInicio(){const e=document.querySelector(".carrusel"),t=document.querySelectorAll(".carrusel .elemento"),n=document.querySelector(".carrusel-nav");let a,o=0,i=!1;if(e){function c(){n.querySelectorAll(".nav-dot").forEach((e,t)=>{e.classList.toggle("active",t===o)})}function s(){o<t.length-1?o++:o=0,l(),c()}function l(){const e=100*-o;t.forEach(t=>{t.style.transform=`translateX(${e}%)`})}t.forEach((e,t)=>{const a=document.createElement("div");a.classList.add("nav-dot"),0===t&&a.classList.add("active"),a.addEventListener("click",()=>{!function(e){o=e,l(),c()}(t)}),n.appendChild(a)}),e.addEventListener("touchstart",e=>{a=e.touches[0].clientX,i=!0}),e.addEventListener("touchmove",e=>{if(i){const n=e.touches[0].clientX,r=n-a;Math.abs(r)>30&&(r>0?function(){o>0?o--:o=t.length-1;l(),c()}():s(),a=n,i=!1)}}),e.addEventListener("touchend",()=>{i=!1}),setInterval(s,5e3)}}function idiomas(){const e=document.querySelector(".language-toggle"),t=document.querySelector(".circle");if(e){const a=new URLSearchParams(window.location.search);function n(){const e=a.get("lang");"es"===e?t.style.transform="translate(0, -50%)":"en"===e&&(t.style.transform="translate(100%, -50%)")}e.addEventListener("click",(function(){e.classList.toggle("active");const t="es"===a.get("lang")?"en":"es";a.set("lang",t);const o=`${window.location.origin}${window.location.pathname}?${a.toString()}`;setTimeout(()=>{n()},300),setTimeout(()=>{window.location.href=o},600)})),n()}}function alertaFormulario(){document.querySelectorAll(".desaparecer-alerta").forEach(e=>{e&&setTimeout(()=>{e.remove()},4e3)})}function descargarContrato(e){window.location.href=e}document.addEventListener("DOMContentLoaded",(function(){menu(),carrouselInicio(),idiomas(),alertaFormulario()})),function(){const e=document.querySelector("#clienteContrato");if(e){let o=[],i=[];const c=document.querySelector("[name=inversionista_id]"),s=document.querySelector("#listado-clientes");if(async function(){const e=await fetch("/api/clientes");!function(e=[]){o=e.map(e=>({nombre:`${e.nombre.trim()} ${e.apellido.trim()}`,id:e.id}))}(await e.json())}(),e.addEventListener("input",(function(t){const n=t.target.value;if(n.length>3){const e=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i");i=o.filter(t=>{if(-1!==t.nombre.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").search(e))return t})}else i=[];!function(){e.addEventListener("input",(function(){s.getElementsByTagName("li").length>0?s.classList.add("listado-clientes__cliente--con-margen"):s.classList.remove("listado-clientes__cliente--con-margen")}));for(;s.firstChild;)s.removeChild(s.firstChild);if(i.length>0)i.forEach(e=>{const t=document.createElement("LI");t.classList.add("listado-clientes__cliente"),t.textContent=e.nombre,t.dataset.clienteId=e.id,t.onclick=a,s.appendChild(t)});else if(e.value.length>3){const e=document.createElement("P");e.classList.add("listado-clientes__no-resultado"),e.textContent="No hay resultados para tu búsqueda",s.appendChild(e)}}()})),c.value){async function t(){const t=await async function(e){const t="/api/cliente?id="+e,n=await fetch(t);return await n.json()}(c.value),{nombre:a,apellido:o}=t,i=document.createElement("LI");i.classList.add("listado-clientes__cliente","listado-clientes__cliente--seleccionado","listado-clientes__cliente--con-margen"),i.textContent=`${a} ${o}`,s.appendChild(i),labelCliente.classList.add("formulario__label--li"),e.addEventListener("input",n)}function n(){s.getElementsByTagName("li").length>0?labelCliente.classList.add("formulario__label--li"):labelCliente.classList.remove("formulario__label--li")}t(),e.addEventListener("input",t)}function a(e){const t=e.target,n=document.querySelector(".listado-clientes__cliente--seleccionado");n&&n.classList.remove("listado-clientes__cliente--seleccionado"),t.classList.add("listado-clientes__cliente--seleccionado"),c.value=t.dataset.clienteId}}}(),function(){if(document.querySelector("#inversion-grafica")){!async function(){const e=await fetch("/api/contratos"),t=await e.json(),n=t.reduce((e,t)=>e+parseFloat(t.inversion),0);let a=0;t.forEach(e=>{const t=new Date(e.fecha_inicio),n=new Date(e.fecha_fin),o=parseFloat(e.rendimiento),i=new Date(t);i.setMonth(i.getMonth()+1),i.setDate(10);const c=new Date;for(;i<=n&&i<=c;)a+=o,i.setMonth(i.getMonth()+1)});const o=document.getElementById("inversion-grafica").getContext("2d");new Chart(o,{type:"doughnut",data:{labels:["Inversiones","Rendimiento"],datasets:[{data:[n,a],backgroundColor:["#ea580c","#84cc16"]}]},options:{plugins:{tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),"undefined"!==e.parsed&&(t+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.parsed)),t}}}}}})}()}}(),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".criptos");if(e){var t=document.createElement("div");t.className="tradingview-widget-container criptomonedas";var n=document.createElement("div");n.className="tradingview-widget-container__widget",t.appendChild(n),e.parentNode.insertBefore(t,e.nextSibling);var a=document.createElement("script");a.type="text/javascript",a.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",a.async=!0,t.appendChild(a),a.innerHTML='\n        {\n            "symbols": [\n                {\n                    "proName": "FOREXCOM:SPXUSD",\n                    "title": "S&P 500"\n                },\n                {\n                    "proName": "FOREXCOM:NSXUSD",\n                    "title": "US 100"\n                },\n                {\n                    "proName": "BITSTAMP:BTCUSD",\n                    "title": "Bitcoin"\n                },\n                {\n                    "proName": "BITSTAMP:ETHUSD",\n                    "title": "Ethereum"\n                },\n                {\n                    "description": "USD/MXN",\n                    "proName": "FX:USDMXN"\n                },\n                {\n                    "description": "EUR/USD",\n                    "proName": "FX:EURUSD"\n                }\n            ],\n            "showSymbolLogo": true,\n            "colorTheme": "dark",\n            "isTransparent": false,\n            "displayMode": "adaptive",\n            "locale": "es"\n        }\n    '}}));
//# sourceMappingURL=bundle.js.map
